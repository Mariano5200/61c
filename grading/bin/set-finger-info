#!/bin/sh

#FINGER_DIR = /home/tmp/batch_chfn

if [ -z "$FINGER_DIR" -o ! -w "$FINGER_DIR" ]; then
    echo "Finger information not changed."
    exit 1
fi

if [ $# -eq 2 ]; then
    firstNames="$1"
    lastName="$2"
elif [ $# -eq 0 ]; then
    lastName=""
    while [ -z "$lastName" ]; do
	/bin/echo 'Please enter your last name (family name): \c'
	read lastName
    done

    firstNames=""
    while [ -z "$firstNames" ]; do
	/bin/echo 'Please enter your first (given) and middle name(s): \c'
	read firstNames
    done
else
    echo "Usage: set-finger-info [ FIRSTNAMES LASTNAME ]"
    exit 2
fi    

who="`whoami`"
echo "$who:$firstNames $lastName" > $FINGER_DIR/$who
echo "Your name according to the 'finger' command will be"
echo "    $firstNames $lastName"
echo "This change should go into effect soon."
